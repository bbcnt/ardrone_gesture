/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package madsdf.ardrone.utils;

import madsdf.ardrone.utils.DTW;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
import static org.junit.Assert.*;

public class DTWTest {
    /**
     * Test of dtwDistance method, of class DTW.
     */
    @Test
    public void testDtwDistance() {
        System.out.println("dtwDistance");
        float[] serie1 = {0,0,0,0,1,1,2,2,3,2,1,1,0,0,0,0};
        float[] serie2 = {0,0,1,1,2,2,3,3,3,3,2,2,1,1,0,0};
        float expResult = 0.0f;
        float result = DTW.dtwDistance(serie1, serie2);
        assertEquals(expResult, result, 0.0);
    }
    
    @Test
    public void testAllAxisDTW() {
        // Example series taken from dataset and expected dtw value computed
        // using mlpy.dtw_std
        System.out.println("testAllAxisDTW");
        final float[][] serie1 = {
            {3497, 3523, 3655, 3665, 3652, 3565, 3449, 3319, 3271, 3175, 3105,
             2996, 2956, 2911, 2785, 2717, 2574, 2426, 2374, 2264, 2177, 2040,
             1930, 1797, 1567, 1309, 1068,  876,  776,  692,  676,  640,  473,
              315,  149,   46,   22,   22,   22,   26,   95,  161,  273,  342,
              456,  599,  808,  986, 1129, 1288, 1400, 1519, 1724, 1822, 1922,
             2008, 2066, 2125, 2144, 2172, 2322, 2906, 3722, 4074, 3872, 3743,
             3773, 3943, 4077, 4076, 4071, 3812, 3641, 3668, 3587, 3477, 3406,
             3344, 3258, 3175, 3108, 3004, 2970, 2924, 2867, 2852, 2838, 2779,
             2817, 2832, 2833, 2852, 2881, 2879, 2851, 2877, 2857, 2847, 2794,
             2758},
            {2353, 2399, 2427, 2454, 2462, 2466, 2402, 2392, 2372, 2276, 2191,
             2153, 2094, 2139, 2147, 2102, 2119, 2090, 2079, 2113, 2136, 2249,
             2270, 2273, 2278, 2255, 2226, 2165, 2134, 2074, 2013, 1974, 1913,
             1879, 1853, 1841, 1813, 1775, 1752, 1731, 1730, 1758, 1754, 1786,
             1784, 1806, 1793, 1792, 1807, 1800, 1831, 1857, 1869, 1942, 2009,
             2054, 2179, 2333, 2469, 2712, 2907, 3086, 3269, 3192, 3124, 3258,
             3354, 3279, 3143, 2869, 2595, 2457, 2352, 2266, 2207, 2168, 2139,
             2120, 2132, 2142, 2138, 2183, 2176, 2160, 2150, 2140, 2107, 2037,
             2057, 2082, 2081, 2087, 2083, 2108, 2082, 2052, 2070, 2062, 2076,
             2050},
            {1681, 1665, 1674, 1656, 1693, 1666, 1643, 1621, 1614, 1639, 1652,
             1738, 1759, 1778, 1793, 1804, 1850, 1882, 1890, 1917, 1967, 1945,
             1934, 1916, 1898, 1894, 1791, 1727, 1694, 1780, 1806, 1773, 1814,
             1828, 1856, 1852, 1837, 1826, 1780, 1750, 1729, 1729, 1658, 1684,
             1691, 1745, 1788, 1800, 1852, 1816, 1807, 1748, 1787, 1777, 1776,
             1851, 1846, 1807, 1681, 1578, 1496, 1508, 1692, 1867, 1700, 1446,
             1501, 1808, 2107, 2151, 2026, 1949, 1835, 1856, 1957, 1955, 1975,
             1990, 1971, 1987, 1968, 1945, 1923, 1900, 1888, 1899, 1947, 1954,
             1950, 1955, 1939, 1919, 1930, 1932, 1922, 1931, 1963, 1964, 1949,
             1948}
        };
        
        final float[][] serie2 = {
            {2793, 2803, 2813, 2805, 2795, 2811, 2808, 2792, 2788, 2793, 2804,
             2823, 2822, 2812, 2793, 2798, 2795, 2785, 2787, 2787, 2779, 2789,
             2783, 2789, 2774, 2793, 2806, 2830, 2913, 2939, 2972, 3045, 3036,
             3056, 3256, 3405, 3439, 3574, 3791, 3896, 3854, 3805, 3790, 3646,
             3427, 3230, 3087, 2989, 2939, 2822, 2663, 2554, 2476, 2397, 2323,
             2253, 2200, 2111, 2035, 2075, 2066, 2035, 2012, 2041, 2012, 1994,
             1968, 1968, 1998, 1965, 1971, 1960, 1963, 1914, 1809, 1777, 1794,
             1791, 1789, 1778, 1806, 1835, 1844, 1891, 1914, 1924, 2010, 2050,
             2038, 2010, 1979, 2042, 2189, 2292, 2406, 2448, 2390, 2366, 2514,
             2716},
            {2121, 2120, 2114, 2116, 2128, 2137, 2127, 2136, 2083, 2132, 2115,
             2119, 2119, 2133, 2118, 2137, 2119, 2113, 2121, 2125, 2148, 2127,
             2145, 2145, 2114, 2104, 2119, 2117, 2113, 2061, 2052, 2077, 2056,
             2033, 2053, 2047, 2033, 1989, 1993, 2013, 1965, 1952, 1933, 1972,
             1968, 2000, 2042, 2076, 2058, 2098, 2092, 2084, 2064, 2073, 2031,
             1982, 1935, 1951, 1952, 1953, 1930, 1898, 1860, 1797, 1729, 1738,
             1775, 1791, 1790, 1758, 1740, 1744, 1716, 1711, 1689, 1680, 1694,
             1676, 1692, 1681, 1678, 1694, 1719, 1705, 1705, 1688, 1703, 1693,
             1695, 1704, 1683, 1698, 1707, 1726, 1720, 1697, 1668, 1642, 1695,
             1786},
            {2003, 2020, 2015, 2024, 2021, 2007, 2010, 2023, 2007, 2007, 2028,
             2031, 2024, 2021, 2014, 2000, 2010, 2027, 2026, 2024, 2039, 2030,
             2022, 2053, 2028, 2017, 2032, 2024, 1986, 2007, 2054, 2043, 2076,
             2107, 2046, 1974, 1740, 1515, 1263, 1053,  817,  631,  540,  555,
              561,  594,  632,  676,  732,  857,  918, 1038, 1149, 1265, 1330,
             1387, 1439, 1451, 1478, 1513, 1532, 1565, 1600, 1647, 1680, 1665,
             1719, 1773, 1799, 1843, 1881, 1936, 1993, 2050, 2090, 2062, 2099,
             2101, 2160, 2184, 2206, 2183, 2176, 2143, 2115, 2025, 2012, 1981,
             1920, 1915, 1847, 1797, 1808, 1758, 1726, 1644, 1562, 1519, 1598,
             1641}
        };
        float expResult = 131221;
        float result = DTW.allAxisDTW(serie1, serie2);
        assertEquals(expResult, result, 0.0);
    }
}
